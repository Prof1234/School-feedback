{% extends 'layout_dashboard.html' %}

{% block title %} admin dashboard {% endblock%}

{% block body%}
<style>

/*###############styles for a scroll table*/
.dtHorizontalVerticalExampleWrapper {
max-width: 300px;
margin: 0 auto;
}
#dtHorizontalVerticalExample th, td {
white-space: nowrap;
}
table.dataTable thead .sorting:after,
table.dataTable thead .sorting:before,
table.dataTable thead .sorting_asc:after,
table.dataTable thead .sorting_asc:before,
table.dataTable thead .sorting_asc_disabled:after,
table.dataTable thead .sorting_asc_disabled:before,
table.dataTable thead .sorting_desc:after,
table.dataTable thead .sorting_desc:before,
table.dataTable thead .sorting_desc_disabled:after,
table.dataTable thead .sorting_desc_disabled:before {
bottom: .5em;

}
table.dataTable button{
  background: blue;
}

 


</style>


<form class="modal fade" id="loginModal" action="/staff" method="POST"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">   
  <div>
   <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">NEW STAFF</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    
      <div class="modal-body mx-3">
        <div class="form-group row">
          <label for="firstname" class="col-md-4 col-form-label text-md-right font-weight-bold">First Name</label>
          <div class="col-md-6">
              <input type="text" id="firstName" class="form-control" name="first_name" required="required" >
          </div>
      </div>

      <div class="form-group row">
          <label for="lastName" class="col-md-4 col-form-label text-md-right font-weight-bold">Last Name</label>
          <div class="col-md-6">
              <input type="text" id="user_name" class="form-control" name="last_name" required="required" >
          </div>
      </div>

      <div class="form-group row">
          <label for="email_address" class="col-md-4 col-form-label text-md-right font-weight-bold">E-Mail Address</label>
          <div class="col-md-6">
              <input type="text" id="email_address" class="form-control" name="email" required="required" >
          </div>
        </div>

        <div class="form-group row">
          <label for="username" class="col-md-4 col-form-label text-md-right font-weight-bold">Username</label>
          <div class="col-md-6">
              <input type="text" class="form-control" name="username" required="required" >
          </div>
      </div>

      <div class="form-group row">
          <label for="phone_number" class="col-md-4 col-form-label text-md-right font-weight-bold">Phone Number</label>
          <div class="col-md-6">
              <input type="text" id="phone" class="form-control" name="phone" required="required" >
          </div>
      </div>

      <div class="form-group row">
          <label for="lastName" class="col-md-4 col-form-label text-md-right font-weight-bold">Course</label>
          <div class="col-md-6">
             
                <select name="dpt_id"  id="" class="custom-select custom-select-sm mb-4">
                      <option value="disabled">Please select course</option>
                  {% for row in departments %}
                     
                  
                        <option value="{{ row[0]}}"> {{ row[1] }} </option>
                     

                {% endfor%}
                
               </select>
            
       </div>
      </div>

    

          <div class="col-md-6 offset-md-4">
              <button type="submit" class="btn btn-primary">
              Register
              </button>
          </div>
      </div>
      
  
      </div>
  
      <div class="modal-footer d-flex justify-content-center">
        <button class="btn btn-default" type="submit">Login</button>
      </div>
  
    </div>
  </div>
  </div>
  </form>

<div class="fluid-container row">
  <!-- Modal to add new department-->
<div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header text-center">
         
          <h4 class="modal-title">Add New Course</h4>
          
        </div>


        <div class="modal-body">
          <form action="/addDepartment" method="POST">
            <div class="">
              <div class="form-group ">
                <label for="department">Course</label>
                  <input type="text" name="department" id="">

              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-default btn-block btn-primary">Submit</button>
              </div>
              
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
  
    </div>
  </div>
    <section class="col-2">
      <div class="top_to_nav">

      </div>
      <div class="sidenav mt-5 p-2">
        <div class="row container">
          <img src="../static/images/admin1.png" id="avator" class="img-fluid" alt="" srcset="">
        </div>
        
        <button type="button" class="btn btn-info m-1 btn-block" data-toggle="modal" data-target="#myModal">ADD COURSE</button>
        <a href="/" data-toggle="modal" data-target="#loginModal" class="btn btn-info m-1 btn-block">  ADD STAFF</a>
       <a href="logout" class="btn btn-info btn-block m-1">Logout</a>
       
      </div>



    </section>
    <section class="col-10 text-center">
            <div class=" jumbotron p-1">
                    <h1 class="font-weight-bold bg-waring">{{ username }}</h1>
             </div>
             {% for message in get_flashed_messages() %}
	  	<div class="alert-error bg-danger text-light"> {{ message }}</div>
	  {% endfor %}

             <div  class="bg-warning" style="width: 1290px;">
                
               
                 <h4 class="bg-info text-dark text-center"></h4>
                <div class="border border-top-1 p-2">
                    <h2 class="text-white bg-warning">Feedback on courses</h2>
                 <table  id="dtHorizontalVerticalExample" class="table table-striped table-bordered table-sm " cellspacing="0" width="100%">
                        <thead class="thead-dark" >
                          <tr>
                            <th >Date</th>
                            <th >Course name</th>
                            <th >Tutorials gave me opportunity</th>
                            <th>sufficient guidelines were given</th>
                            <th>Gained skills</th>
                            <th>Students could consult the lecturers</th>
                            <th>Course outline was clear</th>
                            <th>Course material was perfectly structured</th>
                            <th>Course was taught using morden technology</th>
                            <th> Comments</th>
                      
                          </tr>
                        </thead>
                        <tbody>
                            
                            {% for row in data %}
                                <tr>
                                    <td>{{row['dateSend']}}</td>
                                    <td>{{row['course']}}</td>
                                    <td>{{row['tutorials']}}</td>
                                    <td>{{row['links']}}</td>
                                    <td>{{row['skills']}}</td>
                                    <td>{{row['consult']}}</td>
                                    <td>{{row['outlines']}}</td> 
                                    <td>{{row['materials']}}</td>
                                    <td>{{row['content']}}</td>
                                    <td>{{row['comments']}}</td>
                                
                                </tr>
                            {% endfor %}
                            
                        </tbody>
                      </table>

                      <br>
                      <br>
                      <br>
                      <h2 class="text-white bg-warning">Avaraged Daily Feedback for courses</h2>
                      <table  id="dtHorizontalVerticalExample1" class="table table-striped table-bordered table-sm " cellspacing="0" width="100%">
                             <thead class="thead-dark" >
                               <tr>
                                 <th >Date</th>
                                 <th >Course name</th>
                                 <th >Tutorials gave me opportunity</th>
                                 <th>sufficient guidelines were given</th>
                                 <th>Gained skills</th>
                                 <th>Students could consult the lecturers</th>
                                 <th>Course outline was clear</th>
                                 <th>Course material was perfectly structured</th>
                                 <th>Course was taught using morden technology</th>
                                 <th> Comments</th>
                           
                               </tr>
                             </thead>
                             <tbody>
                                 
                                 {% for row in avaragedCourses %}
                                     <tr>
                                         <td>{{row['dateSend']}}</td>
                                         <td>{{row['course']}}</td>
                                         <td>{{row['tutorials']}}</td>
                                         <td>{{row['links']}}</td>
                                         <td>{{row['skills']}}</td>
                                         <td>{{row['consult']}}</td>
                                         <td>{{row['outlines']}}</td> 
                                         <td>{{row['materials']}}</td>
                                         <td>{{row['content']}}</td>
                                         <td>{{row['comments']}}</td>
                                     
                                     </tr>
                                 {% endfor %}
                                 
                             </tbody>
                           </table>
     

                </div>
                <h2 class="text-white bg-warning">Staff Feedback</h2>
                <div class=" p-2 mt-1">
                    
                    <table  id="selectedColumn" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
                           <thead class="thead-dark">
                             <tr>
                               <th scope="col" class="th-sm">staff Member</th>
                               <th scope="col" class="th-sm">Date</th>
                               <th scope="col" class="th-sm">lecturers voice was audible</th>
                               <th scope="col" class="th-sm">Lecturer was friendly</th>
                               <th scope="col" class="th-sm">Lecturers Management skills</th>
                               <th scope="col" class="th-sm">Lecturer explained concepts clearly</th>
                               <th scope="col" class="th-sm"> Students were allowed to express opinions</th>
                               <th scope="col" class="th-sm">field work was lecturers work</th>
                               <th scope="col" class="th-sm"> Comments</th>
                               
                             </tr>
                           </thead>
                           <tbody>
                               </tr>
                               {% for row in staff_data %}
                                   <tr>
                                  
                                       <td>{{ row['firstName']+ " "+  row['lastName'] }}</td>
                                       <td>{{row['dateSend']}}</td>
                                       <td>{{row['presentation']}}</td>
                                       <td>{{row['friendly']}}</td>
                                       <td>{{row['management']}}</td>
                                       <td>{{row['explanation']}}</td>
                                       <td>{{row['opinions']}}</td>
                                       <td>{{row['labs']}}</td>
                                       <td>{{row['comments']}}</td>
                                  
                                   </tr>
                               {% endfor %}
                               </tr>
                           </tbody>
                         </table>

  <br>
  <br>
  <br>
  <br>
                         <h2 class="text-white bg-warning">Daily Avaraged feedback for staff </h2>
                         <div class=" p-2 mt-1">
                             
                             <table  id="selectedColumn1" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
                                    <thead class="thead-dark">
                                      <tr>
                                        <th scope="col" class="th-sm">staff Member</th>
                                        <th scope="col" class="th-sm">Date</th>
                                        <th scope="col" class="th-sm">lecturers voice was audible</th>
                                        <th scope="col" class="th-sm">Lecturer was friendly</th>
                                        <th scope="col" class="th-sm">Lecturers Management skills</th>
                                        <th scope="col" class="th-sm">Lecturer explained concepts clearly</th>
                                        <th scope="col" class="th-sm"> Students were allowed to express opinions</th>
                                        <th scope="col" class="th-sm">field work was lecturers work</th>
                                        
                                        
                                      </tr>
                                    </thead>
                                    <tbody>
                                        </tr>
                                        {% for row in avaraged %}
                                            <tr>
                                           
                                                <td>{{ row['firstName']+ " "+  row['lastName'] }}</td>
                                                <td>{{row['dateSend']}}</td>
                                                <td>{{row['presentation']}}</td>
                                                <td>{{row['friendly']}}</td>
                                                <td>{{row['management']}}</td>
                                                <td>{{row['explanation']}}</td>
                                                <td>{{row['opinions']}}</td>
                                                <td>{{row['labs']}}</td>
                                           
                                            </tr>
                                        {% endfor %}
                                        </tr>
                                    </tbody>
                                  </table>
                </div>
               
    
                    
             </div>

             
             

    </section>

  
    


</div>



{% endblock%}
<script src="{{url_for('static', filename='bootstrap/jquery/jquery.min.js')}}"></script>
<script src="{{url_for('static', filename='bootstrap/js/bootstrap.bundle.min.js')}}"></script>
{% block script%}

<script>
  
  $(document).ready(function () {
$('#dtHorizontalVerticalExample').DataTable({
  rowReorder: true,
  "buttons": [
       { "extend": 'pdf', "text":'Export',"className": 'btn btn-default btn-xs btn-info' }
   ],
"scrollX": true,
"scrollY": 200,
"buttons": [
       { "className": 'btn btn-default btn-xs btn-info' }
   ]
});

$('.dataTables_length').addClass('bs-select');
});


$(document).ready(function () {
$('#selectedColumn').DataTable({
  "aaSorting": [],
  "buttons": [
       { "extend": 'pdf', "text":'Export',"className": 'btn btn-default btn-xs btn-info' }
   ],
  columnDefs: [{
  orderable: false,
  targets: 3,
  "scrollY": true
  }],
  
});
  $('.dataTables_length').addClass('bs-select');
});

$(document).ready(function () {
$('#selectedColumn1').DataTable({
  "aaSorting": [],
  "buttons": [
       { "extend": 'pdf', "text":'Export',"className": 'btn btn-default btn-xs btn-info' }
   ],
  columnDefs: [{
  orderable: false,
  targets: 3,
  "scrollY": true
  }],
  
});
  $('.dataTables_length').addClass('bs-select');
});

$(document).ready(function () {
$('#dtHorizontalVerticalExample1').DataTable({
  rowReorder: true,
  "buttons": [
       { "extend": 'pdf', "text":'Export',"className": 'btn btn-default btn-xs btn-info' }
   ],
"scrollX": true,
"scrollY": 200,
"buttons": [
       { "className": 'btn btn-default btn-xs btn-info' }
   ]
});

$('.dataTables_length').addClass('bs-select');
});


</script>
{% endblock%}