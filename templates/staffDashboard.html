{% extends 'layout_dashboard.html' %}

{% block title %} staff dashboard {% endblock%}

{% block body%}
<style>
table{
    width:100%;
}
#example_filter{
    float:right;
}
#example_paginate{
    float:right;
}
label {
    display: inline-flex;
    margin-bottom: .5rem;
    margin-top: .5rem;
   
}


</style>

<form class="modal fade" id="loginModal" action="/staffDashboard" method="POST"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">   
  <div>
   <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Change Password</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
            <i class="fas fa-lock prefix grey-text"></i>
          <input type="password" name="newPassword" id="defaultForm-email" class="form-control validate" required= "required">
          <label data-error="wrong" data-success="right" for="defaultForm-email">New Password</label>
        </div>
  
        <div class="md-form mb-4">
          <i class="fas fa-lock prefix grey-text"></i>
          <input type="password" id="defaultForm-pass" name="Password" class="form-control validate" required= "required">
          <label data-error="wrong" data-success="right" for="defaultForm-pass">Confirm password</label>
        </div>
  
      </div>
  
      <div class="modal-footer d-flex justify-content-center">
        <button class="btn btn-default" type="submit">Login</button>
      </div>

      <div>
         <a href="/user/change_password" target="_blank" rel="noopener noreferrer">Forgot password</a>
      </div>
  
    </div>
  </div>
  </div>
  </form>
<div class="fluid-container row">
  <!-- Modal to add new department-->
<div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header text-center">
         
          <h4 class="modal-title">Add New Department</h4>
        </div>


        <div class="modal-body">
          <form action="/addDepartment" method="POST">
            <div class="">
              <div class="form-group ">
                <label for="department">Department</label>
                  <input type="text" name="department" id="">

              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-default btn-block btn-primary">Submit</button>
              </div>
              
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
  
    </div>
  </div>
    <section class="col-2">
      <div class="top_to_nav">

      </div>
      <div class="sidenav mt-5 p-2">
        <div class="row container">
          <img src="../static/images/teacher_PNG90.png" id="avator" class="img-fluid" alt="" srcset="">
        </div>
        <button class="btn btn-block btn-info text-weight-bold m-1" data-toggle="modal" data-target="#loginModal">CHANGE PASSWORD</button>
         <a href="logout" class="btn btn-info btn-block m-1">Logout</a>
      </div>



    </section>
    <section class="col-10 text-center">
        
            <div class=" jumbotron p-1">
                    <h1 class="font-weight-bold bg-waring">{{ username }}</h1>
             </div>
             {% for message in get_flashed_messages() %}
          
        <div class=" bg-info text-light display-block" > {{ message }}</div>
           
        {% endfor %}

             <div  class="bg-warning" style="width: 1430px;">
                
               

                <div class=" p-2 mt-1">
                    <h2 class="text-white bg-warning">STAFF FEEDBACK</h2>
                    <table id="example" class="table table-striped table-bordered" style="width:100%">
                        <thead class="thead-dark">
                          <tr>
                            <th scope="col">Date Send</th>
                            <th scope="col">lecturers voice was audible</th>
                            <th scope="col">Lecturer was friendly</th>
                            <th scope="col">Lecturers Management skills</th>
                            <th scope="col">Lecturer explained concepts clearly</th>
                            <th scope="col">Students were allowed to express opinions</th>
                            <th scope="col">field work was lecturers work</th>
                            <th scope="col"> Comments</th>
                          </tr>
                        </thead>
                        <tbody>
                            </tr>
                            {% for row in data %}
                                <tr>
                                    <td>{{row['dateSend']}}</td>
                                    <td>{{row['presentation']}}</td>
                                    <td>{{row['friendly']}}</td>
                                    <td>{{row['management']}}</td>
                                    <td>{{row['explanation']}}</td>
                                    <td>{{row['opinions']}}</td>
                                    <td>{{row['labs']}}</td>
                                    <td>{{row['comments']}}</td>
                               
                                </tr>
                            {% endfor %}
                            </tr>
                        </tbody>
                      </table>

                      <br>
                      <br>
                      <br>
                      
  
                </div>
                

                <div>
                    <h2 class="text-white bg-warning">Feedback on courses</h2>
                    <table  id="dtHorizontalVerticalExample" class="table table-striped table-bordered table-sm " cellspacing="0" width="100%">
                           <thead class="thead-dark" >
                             <tr>
                               <th >Date</th>
                               <th >Tutorials gave me opportunity</th>
                               <th>sufficient guidelines were given</th>
                               <th>Gained skills</th>
                               <th>Students could consult the lecturers</th>
                               <th>Course outline was clear</th>
                               <th>Course material was perfectly structured</th>
                               <th>Course was taught using morden technology</th>
                               <th> Comments</th>
                         
                             </tr>
                           </thead>
                           <tbody>
                               
                               {% for row in course_data %}
                                   <tr>
                                       <td>{{row['dateSend']}}</td>
                                       <td>{{row['tutorials']}}</td>
                                       <td>{{row['links']}}</td>
                                       <td>{{row['skills']}}</td>
                                       <td>{{row['consult']}}</td>
                                       <td>{{row['outlines']}}</td> 
                                       <td>{{row['materials']}}</td>
                                       <td>{{row['content']}}</td>
                                       <td>{{row['comments']}}</td>
                                   
                                   </tr>
                               {% endfor %}
                               
                           </tbody>
                         </table>
                         <br>
                         <br>
                         <br>
                         <br>
                                                <h2 class="text-white bg-warning">Avaraged daily feedback</h2>
                                                <div class=" p-2 mt-1">
                                                    
                                                    <table  id="selectedColumn1" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
                                                           <thead class="thead-dark">
                                                             <tr>
                                                               <th scope="col" class="th-sm">Date</th>
                                                               <th scope="col" class="th-sm">lecturers voice was audible</th>
                                                               <th scope="col" class="th-sm">Lecturer was friendly</th>
                                                               <th scope="col" class="th-sm">Lecturers Management skills</th>
                                                               <th scope="col" class="th-sm">Lecturer explained concepts clearly</th>
                                                               <th scope="col" class="th-sm"> Students were allowed to express opinions</th>
                                                               <th scope="col" class="th-sm">field work was lecturers work</th>
                                                               
                                                               
                                                             </tr>
                                                           </thead>
                                                           <tbody>
                                                               </tr>
                                                               {% for row in avaraged %}
                                                                   <tr>
                                                                  
                                                                       <td>{{row['dateSend']}}</td>
                                                                       <td>{{row['presentation']}}</td>
                                                                       <td>{{row['friendly']}}</td>
                                                                       <td>{{row['management']}}</td>
                                                                       <td>{{row['explanation']}}</td>
                                                                       <td>{{row['opinions']}}</td>
                                                                       <td>{{row['labs']}}</td>
                                                                  
                                                                   </tr>
                                                               {% endfor %}
                                                               </tr>
                                                           </tbody>
                                                         </table>


                                                         <br>
                                                         <br>
                                                         <br>
                                                         <h2 class="text-white bg-warning">Avaraged Daily Feedback for course</h2>
                                                         <table  id="dtHorizontalVerticalExample1" class="table table-striped table-bordered table-sm " cellspacing="0" width="100%">
                                                                <thead class="thead-dark" >
                                                                  <tr>
                                                                    <th >Date</th>
                                                                    <th >Tutorials gave me opportunity</th>
                                                                    <th>sufficient guidelines were given</th>
                                                                    <th>Gained skills</th>
                                                                    <th>Students could consult the lecturers</th>
                                                                    <th>Course outline was clear</th>
                                                                    <th>Course material was perfectly structured</th>
                                                                    <th>Course was taught using morden technology</th>
                                                              
                                                                  </tr>
                                                                </thead>
                                                                <tbody>
                                                                    
                                                                    {% for row in avaragedCourses %}
                                                                        <tr>
                                                                            <td>{{row['dateSend']}}</td>
                                                                            <td>{{row['tutorials']}}</td>
                                                                            <td>{{row['links']}}</td>
                                                                            <td>{{row['skills']}}</td>
                                                                            <td>{{row['consult']}}</td>
                                                                            <td>{{row['outlines']}}</td> 
                                                                            <td>{{row['materials']}}</td>
                                                                            <td>{{row['content']}}</td>
                                                                        
                                                                        </tr>
                                                                    {% endfor %}
                                                                    
                                                                </tbody>
                                                              </table>
                </div>
                      
     



                    
             </div>

    </section>
</div>
{% endblock%}


{% block script%}

<script>
  
$(document).ready(function () {
$('#selectedColumn1').DataTable({
  "aaSorting": [],
  "buttons": [
       { "extend": 'pdf', "text":'Export',"className": 'btn btn-default btn-xs btn-info' }
   ],
  columnDefs: [{
  orderable: false,
  targets: 3,
  "scrollY": true
  }],
  
});
  $('.dataTables_length').addClass('bs-select');
});


$(document).ready(function () {
$('#dtHorizontalVerticalExample').DataTable({
  rowReorder: true,
  "buttons": [
       { "extend": 'pdf', "text":'Export',"className": 'btn btn-default btn-xs btn-info' }
   ],
"scrollX": true,
"scrollY": 200,
"buttons": [
       { "className": 'btn btn-default btn-xs btn-info' }
   ]
});

$('.dataTables_length').addClass('bs-select');
});
    $(document).ready(function() {
      $('#example').DataTable(
          
           {     
  
        "aLengthMenu": [[5, 10, 25, -1], [5, 10, 25, "All"]],
          "iDisplayLength": 5
         } 
          );
  } );

  $(document).ready(function () {
$('#dtHorizontalVerticalExample1').DataTable({
  rowReorder: true,
  "buttons": [
       { "extend": 'pdf', "text":'Export',"className": 'btn btn-default btn-xs btn-info' }
   ],
"scrollX": true,
"scrollY": 200,
"buttons": [
       { "className": 'btn btn-default btn-xs btn-info' }
   ]
});

$('.dataTables_length').addClass('bs-select');
});
  
  
  function checkAll(bx) {
    var cbs = document.getElementsByTagName('input');
    for(var i=0; i < cbs.length; i++) {
      if(cbs[i].type == 'checkbox') {
        cbs[i].checked = bx.checked;
      }
    }
  }

 
  
  </script>
  
        
{%endblock%}
